# Remotion Video Generator Template

Modern Remotion template with TikTok-style captions support, designed to work seamlessly with the cc-slides CLI.

## ✅ Supported Video Types

1. **Landscape Videos (16:9)** - Traditional horizontal videos
2. **TikTok/Reels/Shorts (9:16)** - Vertical social media videos
3. **Simple Videos** - Videos with audio/visuals but no captions
4. **Captioned Videos** - Videos with word-by-word TikTok-style captions

## Available Compositions

- **IntroScene** - Example intro scene
- **ContentScene** - Example content scene
- **OutroScene** - Example outro scene
- **FullVideo** - Landscape composition combining all scenes (16:9)
- **TikTokVideo** - Vertical video with safe zones (9:16)
- **CaptionedVideo** - Timeline-based video with TikTok captions (9:16)

## Quick Start

### 1. Install Dependencies

```bash
pnpm install
```

### 2. Preview in Remotion Studio

```bash
pnpm remotion
```

### 3. Generate Video Assets with cc-slides CLI

```bash
# Install CLI
pnpm add -g @conceptcraft/cli

# Authenticate
cc login

# Generate assets with character-level timestamps
cat scenes.json | cc video create -o ./public

# Example scenes.json:
{
  "scenes": [
    {
      "name": "Hook",
      "script": "Your brain was not built for text.",
      "imageQuery": "brain technology"
    },
    {
      "name": "Demo",
      "script": "Just describe what you need."
    }
  ],
  "voice": "Kore"
}
```

The CLI generates:
- `public/audio/*.wav` - Audio files per scene
- `public/video-manifest.json` - **Includes timeline with character timestamps**

### 4. Render Video

```bash
# TikTok with captions
pnpm exec remotion render CaptionedVideo out/tiktok.mp4 \
  --props='{"timeline":'$(cat public/video-manifest.json | jq -c .timeline)',"showCaptions":true}'

# Simple video without captions
pnpm exec remotion render CaptionedVideo out/simple.mp4 \
  --props='{"timeline":'$(cat public/video-manifest.json | jq -c .timeline)',"showCaptions":false}'
```

## Video Manifest Structure

The CLI generates a single `video-manifest.json` file that includes everything:

```json
{
  "music": { "path": "audio/music.mp3", "duration": 7 },
  "images": [],
  "videos": [],
  "scenes": [
    {
      "id": 1,
      "name": "Hook",
      "text": "Your brain was not built for text.",
      "audioPath": "audio/hook.wav",
      "timestamps": {
        "characters": ["Y", "o", "u", "r", " ", ...],
        "characterStartTimesSeconds": [0.0, 0.08, ...],
        "characterEndTimesSeconds": [0.08, 0.12, ...]
      }
    }
  ],
  "timeline": {
    "shortTitle": "Video",
    "elements": [],
    "audio": [{ "startMs": 0, "endMs": 2900, "audioUrl": "audio/hook.wav" }],
    "text": [{
      "startMs": 0,
      "endMs": 2900,
      "text": "Your brain was not built for text.",
      "position": "bottom",
      "timestamps": { ... }
    }]
  }
}
```

The `timeline` field is ready to use directly with `CaptionedVideo` composition.

## CaptionedVideo Composition

### Character Timestamps

Timestamps come from TTS/transcription APIs:
- **ElevenLabs TTS** - When generating voiceover
- **OpenAI TTS** - Alternative TTS provider
- **OpenAI Whisper** - When transcribing existing audio

Automatically generated by cc-slides CLI.

### Caption Features

- ✅ Word-by-word highlighting synchronized with audio
- ✅ TikTok-style Bangers font with black stroke
- ✅ Smooth spring animations (scale + translateY)
- ✅ Dynamic text sizing to fit screen
- ✅ Positioned at bottom for vertical video

### Usage

```typescript
// With captions (TikTok style)
{ timeline: manifest.timeline, showCaptions: true }

// Without captions (simple video)
{ timeline: manifest.timeline, showCaptions: false }
```

## Project Structure

```
remotion-video-gen/
├── src/remotion/
│   ├── Root.tsx              # Composition registry
│   ├── captioned/            # TikTok caption components
│   │   ├── CaptionedVideo.tsx
│   │   ├── CaptionRenderer.tsx
│   │   ├── SubtitlePage.tsx
│   │   └── index.tsx
│   ├── scenes/               # Scene components
│   ├── tiktok/               # TikTok components
│   └── shared/               # Shared components
└── public/
    ├── audio/                # Generated audio files
    ├── fonts/
    │   └── bangers.ttf      # TikTok caption font
    └── video-manifest.json   # CLI output (includes timeline)
```

## Requirements

- Node.js 20+
- pnpm
- FFmpeg (for rendering)

## Development

```bash
# Preview in browser
pnpm remotion

# Render composition
pnpm render <CompositionId> out/video.mp4
```

## License

MIT
